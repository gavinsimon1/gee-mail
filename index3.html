<html>
  <head>
    <script src="js/mail-generator.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="css/style1.css" rel="stylesheet" media="screen">
    <title>GeeMail</title>
    <script>
      window.onload = function(){
          //console.log(window.geemails[0]);
        var count = document.createElement("div");
        count.innerHTML = "YOU HAVE " + window.geemails.length + " MESSAGES";
        main.appendChild(count);
        count.className = "count"
        
        for(var x = 0; x < window.geemails.length; x++){
          //console.log(window.geemails[x].date);
          //console.log(window.geemails[x].sender);
          //console.log(window.geemails[x].subject);
          //console.log(window.geemails[x].body);
          
          var inner = document.createElement("div");
          main.appendChild(inner);
          inner.className = "inner";
          
          var date = document.createElement("div");
          date.innerHTML = window.geemails[x].date;
          inner.appendChild(date);
          date.className = "date";
          
          var from = document.createElement("div");
          from.innerHTML = "FROM: " + window.geemails[x].sender;
          inner.appendChild(from);
          from.className = "from";
          
          var title = document.createElement("div");
          title.innerHTML = "SUBJECT: " + window.geemails[x].subject;
          inner.appendChild(title);
          title.className = "title";
        
         //var button = document.createElement("button");
          //button.className = "button";
          //button.innerHTML = "Read Message" 
          //inner.appendChild(button);
          
          
          var message = document.createElement("div");
          message.innerHTML = window.geemails[x].body;
          inner.appendChild(message);
          message.className = "message";
          //message.style.display = "none";
         
          }

          $(".message").click(function(){
            if($(this).hasClass("message")){
              $(this).removeClass("message");
            } else {
              $(this).addClass("message");
            }
          })

       
          //setInterval (window.getNewMessage(), 5000);
          /*getNewMessage()
          window.geemails.push;*/
          
          
          console.log(window.geemails.length);

        addDate = document.createElement("div");
         addDate.innerHTML = window.getNewMessage();
         inner.appendChild(addDate);
         addDate.className = "newDate";

         
        console.log(addDate);

         /*function getNewMessage() {
          window.geemails.push(message);
          count.innerHTML = "YOU HAVE" + getNewMessage.length + "Messages";
        };

        getNewMessage();*/


          //var addMessage = document.createElement("div");
         // message.innerHTML = window.getNewMessage.date;

          /*newElem = document.getElementsByClassName("button");
          for(var i = 0; i < newElem.length; i++){
            newElem[i].addEventListener("click", show);
            //console.log(newElem[i]);
            //console.log(show);
            
         }

         function show(){
            

            var messageClass = this.querySelectorAll(".message")[0];
            //console.log(messageClass);


            if(messageClass.style.display === "none"){
              messageClass.style.dislay = "block";
              //console.log("test");
            
              

            } else {messageClass.style.display = "none";
            // console.log("test");

         }*/

         
       }
     //}
          
/*          console.log(show)     
          button.addEventListener("click", show);
    {
     
}
        function show() {
          var messageClass = document.getElementsByClassName("message");
           for (var i = 0; i < messageClass.length; i++){
              if (messageClass[i].style.display === "none"){
              messageClass[i].style.display = "block"
              } else {
              messageClass[i].style.display = "none";
              }
           }
            
          }
};
*/          
          
 


/*var addMessage = function(){
var addDate = document.createElement("div");
var dateNode = document.createTextNode(window.getNewMessage().date)
addDate.appendChild(dateNode);
console.log(dateNode)
 
var addSender = document.createElement("div");
addSender.innerHTML = window.getNewMessage().sender;
var addSubject = document.createElement("div");
addSubject.innerHTML = window.getNewMessage().subject;
 
 var addBody = document.createElement("div");
addBody.innerHTML = window.getNewMessage().body;
 
 
 console.log(addSender);

*/

    
    //  }

      
        
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
      
    </script>
  </head>
  <body>

    <h1>GeeMail</h1>
    <h3>Dev League Challenge</h3>
    <h4>Gavin Simon</h4>
    
    <div id ="main"></div>
      
    
  
  
      
       
      
    </div>
  </body>

</html>